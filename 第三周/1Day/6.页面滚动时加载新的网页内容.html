<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="loadingbar" style="display:none;position:fixed;bottom:0;left:0;right:0;background-color:#000;color:#FFF;text-align:center;"><b><i>正在加载下50条记录...</i></b></div>
<input type="hidden" value='50' id="loaded_max" />
行数 #0: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #1: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #2: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #3: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #4: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #5: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #6: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #7: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #8: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #9: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #10: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #11: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #12: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #13: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #14: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #15: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #16: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #17: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #18: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #19: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #20: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #21: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #22: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #23: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #24: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #25: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #26: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #27: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #28: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #29: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #30: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #31: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #32: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #33: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #34: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #35: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #36: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #37: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #38: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #39: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #40: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #41: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #42: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #43: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #44: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #45: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #46: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #47: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #48: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #49: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>行数 #50: 当滚动到页面的底部时，将会自动的从服务器端加载其他的记录行信息，在很多网站中都可以看到这个应用。<br/>
</body>
</html>
<script src="js/jquery-1.8.3.min.js"></script>
<script>

    $(function () {
        var loading = false;  //未加载
        $(window).scroll(function () {
            // $(window).height()  657  屏幕的高度
            //$(document).height()  1087 文档的高度
            //$(window).scrollTop() + $(window).height()  1087  屏幕的高度  + 滚动条滚动的高度
            if(($(window).scrollTop() + $(window).height() + 250) > $(document).height()){
                if(loading == false){
                    $("#loadingbar").fadeIn();
                    loading = true;
                    $.ajax({
                        url : "ajaxScroll_Server.php",
                        data : {start : $("#loaded_max").val()},
                        success : function (response) {
                            console.log(response)
                            $("body").append(response)
                            $("#loaded_max").val(parseInt($("#loaded_max").val()) + 50);
                            $("#loadingbar").fadeOut();
                            loading = false;

                            if(parseInt($("#loaded_max").val()) > 350){
                                loading = true;
                            }
                        }
                    })
                }

            }
        })
    })

</script>

